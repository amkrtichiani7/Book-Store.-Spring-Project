<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout(~{::section})}">
<body>
<section>
    <div class="container">
        <form th:action="${isEdit} ? @{/clients/edit/{e}(e=${client.email})} : @{/clients/add}"
              th:object="${client}" method="post">

            <h1>[[${isEdit} ? 'Edit Client / Manage Funds' : 'Register New Client']]</h1>
            <div class="form-group">
                <label>Full Name:</label>
                <input type="text" th:field="*{name}" required />
                <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label>Email Address:</label>
                <input type="email" th:field="*{email}" required />
                <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="text-danger"></span>
            </div>
            <div class="form-group" th:if="${!(isEdit ?: false)}">
                <label>Password:</label>
                <input type="password" th:field="*{password}" required />
            </div>
            <div class="form-group">
                <label>Starting Balance ($):</label>
                <input type="number" step="0.01" th:field="*{balance}" required />
                <span th:if="${#fields.hasErrors('balance')}" th:errors="*{balance}" class="text-danger"></span>
            </div>

            <button type="submit" class="btn">Register Client</button>
            <a th:href="@{/clients}" class="btn-secondary">Cancel</a>
        </form>
    </div>
</section>
</body>
</html>